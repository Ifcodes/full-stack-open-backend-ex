{"version":3,"sources":["services/phonebook.js","components/addContactform.js","components/contactsDisplay.js","components/searchComp.js","components/notification.jsx","App.js","index.js"],"names":["baseUrl","phoneService","getAll","axios","get","del","id","obj","delete","create","post","update","put","AddContact","setNewName","newName","setPersons","setNumber","newNumber","persons","setNotification","updateNumber","person","nameExist","name","numberExist","number","numberUpdate","nameUpdate","then","response","map","p","setTimeout","catch","error","onSubmit","event","preventDefault","checkNewName","toLowerCase","personExist","find","window","confirm","addName","length","console","log","data","addContact","style","margin","value","onChange","target","required","e","type","ContactName","props","phoneNumber","onClick","handledelete","ContactList","nameFilter","filtered","filter","includes","personToDisplay","trim","contactToDel","Filter","setNameFilter","placeholder","Notifications","message","className","App","useState","notification","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c8d1bf63.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseUrl);\n};\n\nconst del = (id, obj) => {\n  return axios.delete(`${baseUrl}/${id}`, obj);\n};\nconst create = (obj) => {\n  return axios.post(baseUrl, obj);\n};\nconst update = (id, obj) => {\n  return axios.put(`${baseUrl}/${id}`, obj);\n};\nconst phoneService = {\n  getAll,\n  del,\n  create,\n  update,\n};\n\nexport default phoneService;\n","import React from \"react\";\nimport phoneService from \"../services/phonebook\";\n\nconst AddContact = ({\n  setNewName,\n  newName,\n  setPersons,\n  setNumber,\n  newNumber,\n  persons,\n  setNotification,\n}) => {\n  const handleNewNames = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumbers = (e) => {\n    setNumber(e.target.value);\n  };\n\n  const addContact = () => {\n    const addName = {\n      name: newName,\n      id: persons.length + 1,\n      number: `${newNumber}`,\n    };\n\n    phoneService\n      .create(addName)\n      .then((response) => {\n        setNewName(\"\");\n        setNumber(\"\");\n        setNotification(\"Contact added successfully\");\n        setTimeout(() => {\n          setNotification(null);\n        }, 5000);\n      })\n      .catch((error) => {\n        console.log(error.response.data);\n        setNotification(error.response.data);\n        setTimeout(() => {\n          setNotification(null);\n        });\n      });\n  };\n\n  const updateNumber = (person) => {\n\n    const nameExist = person.name === newName\n    const numberExist = person.number === newNumber\n\n    const numberUpdate = { ...person, number: newNumber};\n    const nameUpdate = { ...person, name: newName};\n\n    if(nameExist){\n\n      phoneService\n      .update(person.id, numberUpdate)\n      .then((response) => {\n        setPersons((persons) =>\n          persons.map((p) => {\n            if (person.id === p.id) return numberUpdate;\n            return p;\n          })\n        )\n        setNotification(`${person.name}'s Number changed successfully to ${newNumber}`);\n          setTimeout(() => {\n            setNotification(null);\n          }, 5000);\n      })\n      .catch((error) => {\n        setNotification(\n          `Information of ${person.name} has already been removed from server`\n        );\n        setTimeout(() => {\n          setNotification(null);\n        }, 5000);\n      });  \n    }else if(numberExist){\n      phoneService\n      .update(person.id, nameUpdate)\n      .then((response) => {\n        setPersons((persons) =>\n          persons.map((p) => {\n            if (person.id === p.id) return nameUpdate;\n            return p;\n          })\n        )\n        setNotification(`Name changed from ${person.name} to ${newName} successfully!`);\n          setTimeout(() => {\n            setNotification(null);\n          }, 5000);\n      })\n      .catch((error) => {\n        setNotification(\n          `Information of ${person.name} has already been removed from server`\n        );\n        setTimeout(() => {\n          setNotification(null);\n        }, 5000);\n      });\n    }\n  };\n\n  const checkAddContact = (event) => {\n    event.preventDefault();\n\n    const checkNewName = newName.toLowerCase();\n    const personExist = persons.find(\n      (person) => person.name.toLowerCase() === checkNewName\n    );\n    const numberExist = persons.find(\n      (person) => person.number === newNumber\n    );\n\n    if (personExist) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook. Do you want to replace old number with new one?`\n        )\n      ) {\n        updateNumber(personExist);\n        setNewName(\" \");\n        setNumber(\" \");\n      }\n    } else if (numberExist) {\n      if (\n        window.confirm(\n          `PhoneNumber is already added to phonebook. Do you want to replace contact name with ${newName}?`\n        )\n      ) {\n        updateNumber(numberExist);\n        setNewName(\" \");\n        setNumber(\" \");\n      }\n    } else {\n      addContact();\n    }\n  };\n\n  const styles = {\n    margin: \"1rem 0\",\n  };\n  return (\n    <form onSubmit={checkAddContact}>\n      <div style={styles}>\n        name: <input value={newName} onChange={handleNewNames} required />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumbers} required />\n      </div>\n      <div>\n        <button type=\"submit\">Add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default AddContact;\n","import React from \"react\";\nimport phoneService from \"../services/phonebook\";\n\nconst ContactName = (props) => {\n  return (\n    <>\n      <p>\n        {props.person} <br />\n        {props.phoneNumber}{\" \"}\n        <button onClick={props.handledelete} style={{ margin: \"0 1rem\" }}>\n          Delete\n        </button>\n      </p>\n    </>\n  );\n};\n\nconst ContactList = ({ nameFilter, persons, setPersons, setNotification }) => {\n\n  const filtered =  persons.filter((person) =>\n      person.name.toLowerCase().includes(nameFilter.toLowerCase()))\n\n  const personToDisplay = nameFilter.trim() ? filtered : persons;\n\n  const handledelete = (id) => {\n    console.log(id)\n\n    const contactToDel = personToDisplay.find((person) => person.id === id);\n\n    console.log(contactToDel)\n    if (window.confirm(`Delete ${contactToDel.name}?`)) {\n      phoneService\n        .del(id, contactToDel)\n        .then((response) => {\n          setPersons(persons.filter((person) => person.id !== id));\n        })\n        .catch((error) => {\n          setNotification(\n            `Information of ${contactToDel.name} has already been removed from server`\n          );\n          setTimeout(() => {\n            setNotification(null);\n          }, 5000);\n        });\n    }\n  };\n  return (\n    <>\n      {personToDisplay.map((person) => (\n        <ContactName\n          key={person.id}\n          person={person.name}\n          phoneNumber={person.number}\n          handledelete={() => handledelete(person.id)}\n        />\n      ))}\n    </>\n  );\n};\n\nexport default ContactList;\n","import React from 'react'\n\nconst Filter = ({nameFilter, setNameFilter, persons}) =>{\n  const handleNameFilter = (event) => {\n    setNameFilter(event.target.value)\n    // console.log(event.target.value)\n  }\n  \n  return (\n    <form>\n      <h2>Search Contact</h2>\n      <input type=\"search\" placeholder=\"Type to search\" value={nameFilter} onChange={handleNameFilter}/>\n    </form>\n  )\n}\n\nexport default Filter","const Notifications = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n  return <div className=\"notification\">{message}</div>;\n};\nexport default Notifications;\n","import React, { useState, useEffect } from \"react\";\nimport AddContact from \"./components/addContactform\";\nimport ContactList from \"./components/contactsDisplay\";\nimport Filter from \"./components/searchComp\";\nimport phoneService from \"./services/phonebook\";\nimport Notifications from \"./components/notification\";\nimport \"./index.css\";\n\nfunction App() {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNumber] = useState(\"\");\n  const [nameFilter, setNameFilter] = useState(\"\");\n  const [notification, setNotification] = useState(null);\n\n  useEffect(() => {\n    phoneService.getAll().then((response) => {\n      setPersons(response.data);\n    });\n  }, [persons]);\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n\n      <Notifications message={notification} />\n\n      <Filter\n        nameFilter={nameFilter}\n        setNameFilter={setNameFilter}\n        persons={persons}\n      />\n\n      <h2>Add New Contact</h2>\n\n      <AddContact\n        setNewName={setNewName}\n        newName={newName}\n        setPersons={setPersons}\n        setNumber={setNumber}\n        newNumber={newNumber}\n        persons={persons}\n        setNotification={setNotification}\n      />\n\n      <h2>Contact List</h2>\n\n      <ContactList\n        nameFilter={nameFilter}\n        persons={persons}\n        setPersons={setPersons}\n        setNotification={setNotification}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}